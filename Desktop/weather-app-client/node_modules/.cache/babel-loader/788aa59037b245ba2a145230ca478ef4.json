{"ast":null,"code":"var _jsxFileName = \"/Users/buiquang/Desktop/weather-app-client/src/component/WeatherResult/WeatherResult.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport Aux from 'react-aux';\nimport WeatherResultItem from './WeatherResultItem/WeatherResultItem';\nimport * as actionCreators from '../../store/actions/index';\nimport { getDate } from '../../shared/utility'; // import cityService from '../../services/city';\n\nimport { withFirebase } from '../Firebase';\n\nclass WeatherResult extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.saveDataHandler = (name, temp, tempMin, tempMax, humidity, windSpeed, windDeg, cityId, description, localId) => {\n      const isAuthenticated = localStorage.getItem('token');\n      const userUid = localStorage.getItem('uid');\n\n      if (isAuthenticated) {\n        this.props.firebase.db.collection('cities').doc(name).set({\n          name,\n          temp,\n          tempMax,\n          tempMin,\n          humidity,\n          windSpeed,\n          windDeg,\n          cityId,\n          userUid\n        }).then(() => {\n          this.props.history.push('/mycities');\n        }).catch(error => {\n          console.log('Getting error', error.message);\n        });\n      } else {\n        this.props.history.push('/login');\n      }\n    };\n  }\n\n  render() {\n    let resultSection = this.props.city === null ? '' : React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12-of-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"third__heading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"third__heading--first\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Today /\"), React.createElement(\"span\", {\n      className: \"third__heading--second\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, getDate()))), React.createElement(WeatherResultItem, {\n      cityName: this.props.city.name,\n      temp: Math.round(this.props.city.temp),\n      tempMin: this.props.city.tempMin,\n      tempMax: this.props.city.tempMax,\n      humidity: this.props.city.humidity,\n      windSpeed: this.props.city.wind.speed,\n      windDeg: this.props.city.wind.deg,\n      description: this.props.city.weather[0].main,\n      remove: () => this.removeDataHandler(this.props.city.id),\n      add: () => this.saveDataHandler(this.props.city.name, this.props.city.temp, this.props.city.tempMin, this.props.city.tempMax, this.props.city.humidity, this.props.city.wind.speed, this.props.city.wind.deg, this.props.city.id, this.props.city.weather[0].main, this.props.localId),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }));\n    return React.createElement(Aux, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, resultSection);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    city: state.weather.city,\n    localId: state.auth.localId,\n    isAuthenticated: state.auth.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    saveDataHandler: (id, user) => dispatch(actionCreators.saveDataHandler(id, user))\n  };\n};\n\nexport default withRouter(withFirebase(connect(mapStateToProps, mapDispatchToProps)(WeatherResult)));","map":{"version":3,"sources":["/Users/buiquang/Desktop/weather-app-client/src/component/WeatherResult/WeatherResult.js"],"names":["React","Component","connect","withRouter","Aux","WeatherResultItem","actionCreators","getDate","withFirebase","WeatherResult","saveDataHandler","name","temp","tempMin","tempMax","humidity","windSpeed","windDeg","cityId","description","localId","isAuthenticated","localStorage","getItem","userUid","props","firebase","db","collection","doc","set","then","history","push","catch","error","console","log","message","render","resultSection","city","Math","round","wind","speed","deg","weather","main","removeDataHandler","id","mapStateToProps","state","auth","token","mapDispatchToProps","dispatch","user"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport Aux from 'react-aux';\n\nimport WeatherResultItem from './WeatherResultItem/WeatherResultItem';\nimport * as actionCreators from '../../store/actions/index';\nimport { getDate } from '../../shared/utility';\n// import cityService from '../../services/city';\nimport { withFirebase } from '../Firebase';\n\nclass WeatherResult extends Component {\n    saveDataHandler = (name, temp, tempMin, tempMax, humidity, windSpeed, windDeg, cityId, description, localId) => {\n        const isAuthenticated = localStorage.getItem('token');\n        const userUid = localStorage.getItem('uid');\n        if (isAuthenticated) {\n            this.props.firebase.db.collection('cities').doc(name).set({\n                name,\n                temp,\n                tempMax,\n                tempMin,\n                humidity,\n                windSpeed,\n                windDeg,\n                cityId,\n                userUid\n            })\n            .then(() => {\n                this.props.history.push('/mycities');\n            })\n            .catch(error => {\n                console.log('Getting error', error.message)\n            })\n        } else {\n            this.props.history.push('/login');\n        }\n    }\n\n    render() {\n        let resultSection = this.props.city === null ? '' : (\n            <div className=\"row\">\n                <div className=\"col-12-of-12\">\n                    <h3 className=\"third__heading\">\n                        <span className=\"third__heading--first\">Today /</span>\n                        <span className=\"third__heading--second\">{getDate()}</span>\n                    </h3>   \n                </div>\n                <WeatherResultItem \n                    cityName={this.props.city.name}\n                    temp={Math.round(this.props.city.temp)}\n                    tempMin={this.props.city.tempMin}\n                    tempMax={this.props.city.tempMax}\n                    humidity={this.props.city.humidity}\n                    windSpeed={this.props.city.wind.speed}\n                    windDeg={this.props.city.wind.deg}\n                    description={this.props.city.weather[0].main}\n                    remove={() => this.removeDataHandler(this.props.city.id)}\n                    add={() => this.saveDataHandler(\n                        this.props.city.name,\n                        this.props.city.temp,\n                        this.props.city.tempMin,\n                        this.props.city.tempMax,\n                        this.props.city.humidity,\n                        this.props.city.wind.speed,\n                        this.props.city.wind.deg,\n                        this.props.city.id,\n                        this.props.city.weather[0].main, \n                        this.props.localId)}/> \n            </div>  \n        );\n        return (\n            <Aux>\n                {resultSection}\n            </Aux>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        city: state.weather.city,\n        localId: state.auth.localId,\n        isAuthenticated: state.auth.token\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        saveDataHandler: (id, user) => dispatch(actionCreators.saveDataHandler(id, user))\n    }\n}\n\nexport default withRouter(withFirebase(connect(mapStateToProps, mapDispatchToProps)(WeatherResult)));"]},"metadata":{},"sourceType":"module"}